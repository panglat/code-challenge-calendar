(this["webpackJsonpcode-challenge-calendar"]=this["webpackJsonpcode-challenge-calendar"]||[]).push([[0],{142:function(e,a,t){e.exports=t(364)},147:function(e,a,t){},151:function(e,a,t){},152:function(e,a,t){},153:function(e,a,t){},175:function(e,a,t){},176:function(e,a,t){},340:function(e,a,t){},341:function(e,a,t){},342:function(e,a,t){},343:function(e,a,t){},344:function(e,a,t){},345:function(e,a,t){},364:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(34),o=t.n(c),l=(t(147),t(24)),i=t(6),m=t(36),s=t(12),d=t(9),u=t.n(d),p=t(7),E=t.n(p),b=(t(151),t(3)),h=t.n(b),f=(h.a.shape({date:h.a.func,format:h.a.func,month:h.a.func}),h.a.shape({r:h.a.number,g:h.a.number,b:h.a.number,a:h.a.number})),y=(h.a.shape({name:h.a.string,city:h.a.string,color:f,dateTime:h.a.string,secondsSinceEpoch:h.a.number}),t(152),function(e){var a=e.className,t=e.reminder,n=Object(s.a)(e,["className","reminder"]);return r.a.createElement("div",Object.assign({className:u()("summarized-reminder",a),style:{backgroundColor:"rgba(".concat(t.color.r,", ").concat(t.color.g,", ").concat(t.color.b,", ").concat(t.color.a,")")}},n),r.a.createElement("p",{className:"summarized-reminder__name"},t.name),r.a.createElement("p",{className:"summarized-reminder__time"},E()(t.dateTime).format("LT")))});y.defaultProps={className:""};var _=y,v=function(e){var a=e.className,t=e.day,n=e.monthNumber,c=e.onUpdateReminder,o=e.reminders,l=Object(s.a)(e,["className","day","monthNumber","onUpdateReminder","reminders"]),i=t.unix(),m=E()(t).add(E.a.duration("23:59:59")).unix(),d=o.filter((function(e){return e.secondsSinceEpoch>=i&&e.secondsSinceEpoch<=m})),p=function(e,a){e.stopPropagation(),c(a)};return r.a.createElement("div",Object.assign({className:u()("calendar-day",a)},l),r.a.createElement("div",{className:u()("calendar-day__day",{"calendar-day__day--other-month":t.month()+1!==n})},t.date()),d.map((function(e){return r.a.createElement(_,{key:e.id,reminder:e,role:"button",tabIndex:0,onClick:function(a){return p(a,e)},onKeyPress:function(a){return p(a,e)}})})))};v.defaultProps={className:"",onUpdateReminder:function(){}};var N=v,g=(t(153),function(e){var a=e.className,t=e.monthNumber,n=e.onCreateReminder,c=e.onUpdateReminder,o=(e.onDeleteReminder,e.reminders),l=e.year,i=Object(s.a)(e,["className","monthNumber","onCreateReminder","onUpdateReminder","onDeleteReminder","reminders","year"]),m=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],d=function(){for(var e=E()("".concat(t,"-01-").concat(l),"MM-DD-YYYY"),a=e.isoWeekday()%7,n=E()(e).subtract(a,"days"),r=E()(e).add(1,"months").subtract(1,"days"),c=r.isoWeekday()%7,o=E()(r).add(6-c,"days"),i=E.a.duration(E()(o).add(1,"days").diff(n)).asWeeks(),m=[],s=E()(n),d=0;d<i;d++){for(var u=[],p=0;p<7;p++)u.push(E()(s)),s.add(1,"days");m.push(u)}return{firstCalendarDay:n,lastCalendarDay:o,calendar:m}}(),p=d.firstCalendarDay,b=d.lastCalendarDay,h=d.calendar,f=E()(b).add(E.a.duration("23:59:59")),y=o.filter((function(e){return e.secondsSinceEpoch>=p.unix()&&e.secondsSinceEpoch<=f.unix()})).sort((function(e,a){return e.secondsSinceEpoch-a.secondsSinceEpoch}));return r.a.createElement("table",Object.assign({className:u()("calendar-table",a)},i),r.a.createElement("thead",{className:"calendar-table__header"},r.a.createElement("tr",{className:"calendar-table__header-row"},m.map((function(e){return r.a.createElement("th",{key:e,className:"calendar-table__header-cell"},e)})))),r.a.createElement("tbody",{className:"calendar-table__body"},h.map((function(e){return r.a.createElement("tr",{key:e[0].format(),className:"calendar-table__body-row"},e.map((function(e){return r.a.createElement("td",{key:e.format(),className:"calendar-table__body-table-data"},r.a.createElement(N,{day:e,monthNumber:t,reminders:y,role:"button",tabIndex:0,onClick:function(){return n(e)},onKeyPress:function(){return n(e)},onUpdateReminder:c}))})))}))))});g.defaultProps={className:"",onCreateReminder:function(){},onUpdateReminder:function(){},onDeleteReminder:function(){}};var w=g,C=t(132),O=t.n(C),j=t(139),R=(t(175),function(e){var a=e.className,t=e.children;return r.a.createElement("div",{className:"simple-modal"},r.a.createElement("section",{className:u()("simple-modal__main",a)},t))});R.defaultProps={className:"",children:null};var D=R,T=t(58),x=(t(176),function(e){var a=e.buttonStyle,t=e.className,n=e.children,c=e.disabled,o=e.type,l=Object(s.a)(e,["buttonStyle","className","children","disabled","type"]);return r.a.createElement("button",Object.assign({className:u()("button",Object(T.a)({},"button--".concat(a),a),t),disabled:c,type:o},l),n)});x.defaultProps={className:"",children:null,disabled:!1,buttonStyle:"primary",type:"button"};var M=x,S=t(135),k=(t(340),function(e){var a=e.className,t=e.color,c=e.onChangeComplete,o=Object(s.a)(e,["className","color","onChangeComplete"]),l=Object(n.useState)(!1),i=Object(m.a)(l,2),d=i[0],p=i[1],E=function(){p(!d)};return r.a.createElement("div",Object.assign({className:u()("color-picker",a)},o),r.a.createElement("div",{className:"color-picker__swatch",role:"button",tabIndex:0,onClick:E,onKeyPress:E},r.a.createElement("div",{className:"color-picker__color",style:{backgroundColor:"rgba(".concat(t.r,", ").concat(t.g,", ").concat(t.b,", ").concat(t.a,")")}})),d&&r.a.createElement(S.TwitterPicker,{id:"event-color",name:"eventColor",onChangeComplete:function(e){p(!1),c(e)},color:t}))});k.defaultProps={className:"",onChangeComplete:function(){}};var A=k,Y=(t(341),t(342),function(e){var a=e.className,t=e.city,n=e.weather,c=e.weatherError;return r.a.createElement("div",{className:u()("city-weather-view",a)},r.a.createElement("h4",{className:"city-weather-view__header"},"Weather for",r.a.createElement("span",null,"\xa0",t)),n&&r.a.createElement("div",{className:"city-weather-view__row"},r.a.createElement("div",{className:"city-weather-view__icon-column"},r.a.createElement("img",{src:n.iconUrl,alt:n.weatherMain,className:"city-weather-view__image"})),r.a.createElement("div",{className:"city-weather-view__info-column"},r.a.createElement("p",{className:"city-weather-view__paragraph"},r.a.createElement("strong",null,"City:"),r.a.createElement("span",null,"".concat(n.city,", ").concat(n.countryCode))),r.a.createElement("p",{className:"city-weather-view__paragraph"},r.a.createElement("strong",null,"Temperature:"),r.a.createElement("span",null,"".concat(Math.round(n.temperatureK-273.15)," C"))),r.a.createElement("p",{className:"city-weather-view__paragraph"},r.a.createElement("strong",null,"Weather:"),r.a.createElement("span",null,"".concat(n.weatherMain," (").concat(n.weatherDescription,")"))))),c&&r.a.createElement("p",{className:"city-weather-view__paragraph"},"Failed to the get the weather information"))});Y.defaultProps={className:"",weather:null,weatherError:null};var P=Y,I=function(e){var a=e.className,t=e.reminder,n=e.onClose,c=e.onDelete,o=e.onSave,m=Object(l.b)(),s=Object(l.c)((function(e){return function(e){return e.weather.weather}(e)})),d=Object(l.c)((function(e){return function(e){return e.weather.error}(e)})),p=function(){m({type:"WEATHER_CLEAR"})};return r.a.createElement(D,null,r.a.createElement(j.a,{initialValues:{reminderName:t.name,reminderTime:E()(t.dateTime).format("HH:mm"),reminderCity:t.city,reminderColor:t.color},validate:function(e){var a={};return e.reminderName||(a.reminderName="Required"),e.reminderTime||(a.reminderTime="Required"),e.reminderCity||(a.reminderCity="Required"),e.reminderColor||(a.reminderColor="Required"),a},onSubmit:function(e){var a=e.reminderTime.split(":"),n=E()(t.dateTime).set({hour:a[0],minute:a[1],second:0,millisecond:0});o(Object(i.a)(Object(i.a)({},t),{},{city:e.reminderCity,color:e.reminderColor,dateTime:n.format(),name:e.reminderName,secondsSinceEpoch:n.unix()})),p()},validateOnMount:!0},(function(e){var o=e.values,l=e.handleChange,i=e.handleBlur,b=e.handleSubmit,h=e.isValid,f=e.setFieldValue;return r.a.createElement("form",{className:u()("reminder-modal",a),onSubmit:b},r.a.createElement("h1",{className:"reminder-modal__header"},"Reminder"),r.a.createElement("div",{className:"reminder-modal__group"},r.a.createElement("label",{className:"reminder-modal__label",htmlFor:"reminderName"},"Name:",r.a.createElement("br",null),r.a.createElement("input",{className:"reminder-modal__input-text",type:"text",id:"reminderName",onChange:l,onBlur:i,value:o.reminderName,maxLength:"30"}))),r.a.createElement("div",{className:"reminder-modal__group"},r.a.createElement("label",{className:"reminder-modal__label",htmlFor:"reminder-date"},"Date:",r.a.createElement("br",null),r.a.createElement("span",null,E()(t.dateTime).format("MM-DD-YYYY")))),r.a.createElement("div",{className:"reminder-modal__group"},r.a.createElement("label",{className:"reminder-modal__label",htmlFor:"reminder-time"},"Time:",r.a.createElement("br",null),r.a.createElement("span",null,r.a.createElement(O.a,{name:"reminderTime",id:"reminder-time",disableClock:!0,onChange:function(e){f("reminderTime",e)},value:o.reminderTime})))),r.a.createElement("div",{className:"reminder-modal__group"},r.a.createElement("label",{className:"reminder-modal__label",htmlFor:"reminderCity"},"City:",r.a.createElement("br",null),r.a.createElement("input",{className:"reminder-modal__input-text",type:"text",id:"reminderCity",onChange:function(e){l(e),p()},onBlur:i,value:o.reminderCity}),r.a.createElement(M,{type:"button",onClick:function(){var e;e=o.reminderCity,m({type:"WEATHER_FETCH_REQUESTED",payload:{params:{city:e}}})}},"Weather"))),(s||d)&&r.a.createElement(P,{city:o.reminderCity,weather:s?{city:s.name,countryCode:s.sys.country,iconUrl:"http://openweathermap.org/img/wn/".concat(s.weather[0].icon,".png"),temperatureK:s.main.temp,weatherMain:s.weather[0].main,weatherDescription:s.weather[0].description}:null,weatherError:d}),r.a.createElement("div",{className:"reminder-modal__group"},r.a.createElement("label",{className:"reminder-modal__label",htmlFor:"reminder-color"},"Color:",r.a.createElement(A,{onChangeComplete:function(e){f("reminderColor",e.rgb)},color:o.reminderColor}))),r.a.createElement("div",{className:"reminder-modal__button-group"},r.a.createElement(M,{buttonStyle:"secondary",type:"button",onClick:function(e){n(e),p()}},"Cancel"),r.a.createElement(M,{type:"submit",disabled:!h},"Save"),t.id&&r.a.createElement(M,{type:"button",onClick:function(){c(t.id),p()}},"Delete")))})))};I.defaultProps={className:"",onClose:function(){},onDelete:function(){},onSave:function(){}};var F=I,H=(t(343),function(e){var a=e.className,t=e.monthYear,n=e.onDeleteAllReminders,c=e.onMonthYearChanged,o=Object(s.a)(e,["className","monthYear","onDeleteAllReminders","onMonthYearChanged"]),l=function(){c(E()(t).subtract(1,"months"))},i=function(){c(E()(t).add(1,"months"))};return r.a.createElement("div",Object.assign({className:u()("calendar-header",a)},o),r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30px",height:"30px",className:"calendar-header__left-arrow",role:"button",tabIndex:0,onClick:l,onKeyPress:l},r.a.createElement("polygon",{fill:"red",points:"15,3 27,27 3,27 15,3"})),r.a.createElement("div",{className:"calendar-header__head"},r.a.createElement("h1",null,t.format("MMMM, YYYY")),r.a.createElement("span",{role:"button",tabIndex:0,onClick:n,onKeyPress:n},"Delete All Reminders")),r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30px",height:"30px",className:"calendar-header__right-arrow",role:"button",tabIndex:0,onClick:i,onKeyPress:i},r.a.createElement("polygon",{fill:"red",points:"15,3 27,27 3,27 15,3"})))});H.defaultProps={className:"",onDeleteAllReminders:function(){},onMonthYearChanged:function(){}};var U=H,W=(t(344),function(e){var a=e.className,t=Object(s.a)(e,["className"]),c=Object(n.useState)(!1),o=Object(m.a)(c,2),d=o[0],p=o[1],b=Object(n.useState)(null),h=Object(m.a)(b,2),f=h[0],y=h[1],_=Object(n.useState)(function(){var e=E()();return E()("".concat(e.month()+1,"-").concat(e.year()),"MM-YYYY")}()),v=Object(m.a)(_,2),N=v[0],g=v[1],C=Object(l.b)(),O=Object(l.c)((function(e){return function(e){return e.reminderManager.reminders}(e)})),j=function(){p(!1)};return r.a.createElement("div",Object.assign({className:u()("calendar",a)},t),r.a.createElement(U,{monthYear:N,onDeleteAllReminders:function(){C({type:"DELETE_ALL_REMINDER"})},onMonthYearChanged:function(e){return g(e)}}),r.a.createElement(w,{monthNumber:N.month()+1,year:N.year(),onCreateReminder:function(e){y(function(e){var a=E()(),t=e?e.set({hour:a.hour(),minute:a.minute(),second:0,millisecond:0}):a;return Object(i.a)(Object(i.a)({},{}),{},{city:"",color:{r:18,g:115,b:222,a:1},dateTime:t.format(),name:"",secondsSinceEpoch:t.unix()})}(e)),p(!0)},onUpdateReminder:function(e){y(e),p(!0)},reminders:O}),d&&r.a.createElement(F,{onClose:j,onDelete:function(e){C(function(e){return{type:"DELETE_REMINDER",payload:{id:e}}}(e)),j()},onSave:function(e){C(e.id?function(e,a){return{type:"UPDATE_REMINDER",payload:{id:e,reminder:a}}}(e.id,e):function(e){return{type:"CREATE_REMINDER",payload:{reminder:e}}}(e)),j()},reminder:f}))});W.defaultProps={className:""};var L=W;t(345);function K(e){var a=e.store;return r.a.createElement(l.a,{store:a},r.a.createElement("div",{className:"App"},r.a.createElement(L,null)))}K.defaultProps={store:null};var q=K,z=t(21),B=t(136),Q=t(141),V=t(140),J=t(367),G={reminders:[]};var X={loading:!1,error:null,weather:null};var Z=Object(z.combineReducers)({reminderManager:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"CREATE_REMINDER":return Object(i.a)(Object(i.a)({},e),{},{reminders:[].concat(Object(V.a)(e.reminders),[Object(i.a)(Object(i.a)({},a.payload.reminder),{},{id:Object(J.a)()})])});case"FIND_REMINDER":return Object(i.a)(Object(i.a)({},e),{},{reminders:e.reminders.find((function(e){return e.id===a.payload.id}))});case"UPDATE_REMINDER":return Object(i.a)(Object(i.a)({},e),{},{reminders:e.reminders.map((function(e){return e.id===a.payload.id?Object(i.a)(Object(i.a)({},a.payload.reminder),{},{id:a.payload.id}):e}))});case"DELETE_REMINDER":return Object(i.a)(Object(i.a)({},e),{},{reminders:e.reminders.filter((function(e){return e.id!==a.payload.id}))});case"DELETE_ALL_REMINDER":return Object(i.a)(Object(i.a)({},e),{},{reminders:[]});default:return e}},weather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"WEATHER_FETCH_REQUESTED":return Object(i.a)(Object(i.a)({},e),{},{loading:!0});case"WEATHER_FETCH_SUCCEEDED":return Object(i.a)(Object(i.a)({},e),{},{loading:!1,error:null,weather:Object(i.a)({},a.payload.response)});case"WEATHER_FETCH_FAILED":return Object(i.a)(Object(i.a)({},e),{},{loading:!1,weather:null,error:a.payload.error});case"WEATHER_CLEAR":return Object(i.a)(Object(i.a)({},e),{},{loading:!1,error:null,weather:null});default:return e}}}),$=t(16),ee=t.n($),ae=t(25),te=t(137),ne=t(138),re="80fe903c6f5e04a104c9ca1a60b94e96",ce=t.n(ne).a.create({baseURL:"http://api.openweathermap.org/data/2.5/"}),oe=function(){var e=Object(te.a)(ee.a.mark((function e(){var a,t,n=arguments;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.length>0&&void 0!==n[0]?n[0]:{city:"mendoza"},e.prev=1,e.next=4,ce.get("weather",{params:{q:a.city,appid:re}});case 4:return t=e.sent,e.abrupt("return",t.data);case 8:throw e.prev=8,e.t0=e.catch(1),console.log(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),le=ee.a.mark(se),ie=ee.a.mark(de),me=ee.a.mark(ue);function se(e){var a;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(ae.b)((function(){return oe(e.payload.params)}));case 3:return a=t.sent,t.next=6,Object(ae.c)({type:"WEATHER_FETCH_SUCCEEDED",payload:{response:a}});case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(ae.c)({type:"WEATHER_FETCH_FAILED",payload:{error:t.t0.message}});case 12:case"end":return t.stop()}}),le,null,[[0,8]])}function de(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ae.e)("WEATHER_FETCH_REQUESTED",se);case 2:case"end":return e.stop()}}),ie)}function ue(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ae.a)([de()]);case 2:case"end":return e.stop()}}),me)}var pe=ee.a.mark(Ee);function Ee(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ae.a)([ue].map(ae.d));case 2:case"end":return e.stop()}}),pe)}var be=Object(Q.a)();var he=function(){var e=Object(B.composeWithDevTools)({}),a=Object(z.createStore)(Z,e(Object(z.applyMiddleware)(be)));return be.run(Ee),a}();o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(q,{store:he})),document.getElementById("root"))}},[[142,1,2]]]);
//# sourceMappingURL=main.e0f2f8a3.chunk.js.map